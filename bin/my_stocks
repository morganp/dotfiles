#!/usr/bin/env ruby

## Install Gem
# gem install stock_quote
 
require "stock_quote"
require "yaml"

this_folder = File.expand_path('..', __FILE__)
config_file = File.join(this_folder,  "stock.yml")

config = YAML.load_file( config_file )

## Get price of DLG.DE stocks
stock = StockQuote::Stock.quote(config['ticker']).ask

commision   = config['commision'] # Cost
options_no  = config['option_no'] # number of shares
option_cost = config['option_cost'] # Option cost
 
total_cost = option_cost + commision
profit = (stock - total_cost) * options_no
 
#euro to Stirling Conversion
profit_pounds = profit * 0.8

puts "Shares #{options_no}, current Share price #{stock} euro"
puts "#{config['ticker']} Value (euro) : #{profit}"
puts "#{config['ticker']} Value (GBP)  : #{profit_pounds}"
